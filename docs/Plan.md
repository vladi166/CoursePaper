# **План автоматизации тестирования**

### **Исходные данные**

***1. Позитивные тесты (валидные данные):***
* **Номер карты:** `1111 2222 3333 4444` (APPROVED)
* **Месяц:** `01-12`
* **Год:** `+1` до `+5` от текущего
* **Владелец:** имя и фамилия на латинице
* **CVC:** `100-999`

***2.Негативные тесты (невалидные данные):***

**2.1. Невалидные номера карт:**
* `5555 6666 7777 8888` (DECLINED)
* `0000 0000 0000 0000`
* рандомный номер
* пустое поле
* 1 цифра
* 15 цифр

**2.2. Невалидные значения месяца:**

* `00` (недопустимый месяц)
* `13` (больше 12)
* одна цифра
* пустое поле

**2.3. Невалидные значения года:**

* `00`
* пустое поле
* текущий год +6
* текущий год -1
* одна цифра

**2.4. Невалидные значения владельца карты:**

* кириллица
* одно слово
* спецсимволы
* цифры
* длина - 21 символ
* пустое поле

**2.5. Невалидные значения CVC:**

* пустое поле
* `000`
* одна цифра
* две цифры

## **Перечень автоматизируемых сценариев**

### Предусловия:
1. Запустить IDEA
2. Запустить Docker
3. Выполнить docker-compose.yml
4. Запустить SUT командой `java -jar aqa-shop.jar`
5. Перейти на http://localhost:8080
6. Нажать кнопку `Купить`, открывается `Оплата по карте` или
7. Нажать кнопку `Купить в кредит`, открывается `Кредит по данным карты`

### **UI сценарии**

**Позитивные сценарии:**
1. Покупка `Оплата по карте` / `Кредит по данным карты` со статусом `APPROVED` валидные данные
    
    **Результат:**  Успешное сообщение о проведенной оплате.
2. Покупка `Оплата по карте` / `Кредит по данным карты` со статусом `DECLINED` валидные данные

    **Результат:** `Ошибка` Отказ в проведении операции

**Негативны сценарии:**
1. Поле`Номер карты` - ввод невалидных данных `Оплата по карте` / `Кредит по данным карты`

   **Результат:** `Ошибка` Отказ в проведении операции
2. Поле `Месяц` - ввод невалидных данных `Оплата по карте` / `Кредит по данным карты`

   **Результат:** `Ошибка` Отказ в проведении операции
3. Поле `Год` - ввод невалидных данных `Оплата по карте` / `Кредит по данным карты`

   **Результат:** `Ошибка` Отказ в проведении операции
4. Поле `Владелец` - ввод невалидных данных `Оплата по карте` / `Кредит по данным карты`

   **Результат:** `Ошибка` Отказ в проведении операции
5. Поле `CVC` - ввод невалидных данных `Оплата по карте` / `Кредит по данным карты`

   **Результат:** `Ошибка` Отказ в проведении операции
6. Отправление данных с незаполненными полями `Оплата по карте` / `Кредит по данным карты`

   **Результат:** `Ошибка` Отказ в проведении операции

### **API сценарии**
1. Отправка POST запроса платежа с валидно* заполненным body и данными действующей карты на  http://localhost:9999/payment

   **Результат:** статус 200, появление соответствующей записей в БД
2. Отправка POST запроса `Купить в кредит`  с валидным body и карты со статусом `APPROVED`

   **Результат:** статус 200, появление соответствующей записей в БД
3. Отправка POST запроса `Купить` с валидным body и карты со статусом `DECLINED`

   **Результат:** статус 200, появление соответствующей записей в БД
4. Отправка POST запроса `Купить в кредит` с валидным body и карты со статусом `DECLINED`

   **Результат:** статус 200, появление соответствующей записей в БД
5. Отправка POST запроса с пустым значением у атрибута `body`

   **Результат:** статус 400, отсутствие записи в БД
6. Отправка POST запроса с пустым значением у атрибута `number`

   **Результат:** статус 400, отсутствие записи в БД
7. Отправка POST запроса с пустым значением у атрибута `month`

   **Результат:** статус 400, отсутствие записи в БД
8. Отправка POST запроса с пустым значением у атрибута `year`

   **Результат:** статус 400, отсутствие записи в БД
9. Отправка POST запроса с пустым значением у атрибута `holder`

   **Результат:** статус 400, отсутствие записи в БД
10. Отправка POST запроса с пустым значением у атрибута `cvc`
   
    **Результат:** статус 400, отсутствие записи в БД

## **Перечень используемых инструментов с обоснованием выбора**

1. Git и GitHub — хранение кода, в том числе авто-тестов;
2. JUnitJupiter— платформа для написания авто-тестов и их запуска;
3. Java 11 — язык написания авто-тестов;
4. Gradle — система управления зависимостями
5. Faker – для генерации тестовых данных
6. REST-assured – для тестирования API
7. Selenide – для тестирования GUI
8. Apache Commons – для запроса к БД
9. паттерн Page Object – для более гибкого взаимодействия с SUT и сокрытия внутреннего устройства определённой страницы или её виджетов за логическим интерфейсом взаимодействия
10. Allure – для формирования отчета о тестировании

## **Перечень и описание возможных рисков при автоматизации**

1. Отсутствие документации на приложение (какое поведение системы считать ошибочным)
2. Тесты могут не покрывать всех возможных негативных сценариев (пользователь может повести себя так, как мы не можем предвидеть)
3. Падение автотестов UI даже при незначительном изменении кода (изменения: структуры сайта, локаторов элементов)
4. Потеря актуальности тестов API при изменение структуры запросов со стороны банка
5. Некорректность тестовых данных при работе с Faker
6. Актуализация, обновление и поддрежание тестов может занять достаточно большое количество времени

## **Интервальная оценка с учётом рисков (в часах)**

1. Ознакомление с проектом + план автоматизации тестирования - 10 часов
2. Разработка UI тестов - 20 часов
3. Настройка окружения и поведение тестирования - 5 часов
4. Подготовка issue со скриншотами и описанием багов - 6 часов
5. Формирование отчета о проведённой автоматизации тестирования - 2 часа
6. Устранение замечаний - 5 часов
7. Итого - 48 часов

## **План сдачи работ**

1. План автоматизации тестирования - 09.03.2025
2. Готовность автотестов - 15.03.2025
3. Подготовка и оформление репортов - 17.03.2025
4. Отчеты по тестированию и автоматизации тестирования - 20.03.2025