# **План автоматизации тестирования**

### **Исходные данные**

* **Номер карты:** `1111 2222 3333 4444` (APPROVED),
                  `5555 6666 7777 8888` (DECLINED)
* **Месяц:** `01-12`
* **Год:** до `+5` от текущего
* **Владелец:** имя и фамилия на латинице
* **CVC:** `100-999`

## **Перечень автоматизируемых сценариев**

### **UI сценарии**

#### 1. Оплата по карте `APPROVED` валидные данные:

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

1. Осуществляется отправка данных в банк.
2. Появляется сообщение «Успешно. Операция одобрена банком».

#### 2. Оплата по карте со статусом `DECLINED` валидные данные:

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `DECLINED` (5555 6666 7777 8888)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

1. Осуществляется отправка данных в банк.
2. Появилось всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

#### 3. Проверка поля «Номер карты» на произвольный номер

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести любые 12 цифр
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

1. Осуществляется отправка данных в банк.
2. Появилось всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

#### 4. Проверка поля «Номер карты» на ввод менее 16 цифр

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести любые 7 цифр
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Номер карты» появляется подсказка: «Неверный формат».

#### 5. Проверка поля «Номер карты» на ввод более 16 цифр

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести любые 17 цифр
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

Форма не позволяет ввести более 16 цифр.

#### 6. Проверка поля «Номер карты» на ввод букв и знаков

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести любые буквы и знаки.
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

Форма не позволяет вводить буквы и знаки.

#### 7. Пустое поле «Номер карты» 

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. Поле «Номер карты» оставить пустым.
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля появляется подсказка: «Неверный формат».

#### 8. Проверка поля «Месяц» на ввод 00

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести `00`
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Месяц» появляется подсказка: «Неверно указан срок действия карты».

#### 9. Проверка поля «Месяц» на ввод 13

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести `13`
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Месяц» появляется подсказка: «Неверно указан срок действия карты».

#### 10. Проверка поля «Месяц» на ввод одной цифры

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести `1`
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Месяц» появляется подсказка: «Неверный формат».

#### 11. Проверка поля «Месяц» на ввод более 2 знаков

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести любые 3 цифры.
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

Форма не позволяет ввести более 2 цифр.

#### 12. Пустое поле «Месяц».

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. Поле «Месяц» оставить пустым.
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля появляется подсказка: «Неверный формат».

#### 13. Проверка поля «Месяц» на ввод букв и знаков.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести буквы и знаки.
4. В поле «Год» ввести последние две цифры текущего года.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

Форма не позволяет вводить буквы и знаки.

#### 14. Проверка поля «Год» на ввод прошедшего года.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести `24`.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Год» появляется подсказка: «Истек срок действия карты».

#### 15. Проверка поля «Год» на ввод года за пределами срока действия карты.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести год от +6 или более от текущего (например `31`).
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Год» появляется подсказка: «Неверно указан срок действия карты».

#### 16. Проверка поля «Год» на ввод одной цифры.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести от `0` до `9`.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Год» появляется подсказка: «Неверный формат».

#### 17. Проверка поля «Год» на ввод более 2 цифр.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести любые три цифры.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

Форма не позволяет ввести более 2 цифр.

#### 18. Проверка поля «Год» на ввод букв и знаков.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести любые буквы и знаки.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

Форма не позволяет вводить буквы и знаки.

#### 19. Пустое поле «Год».

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. Поле «Год» оставить пустым.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля появляется подсказка: «Неверный формат».

#### 20. Проверка использования карты с данными владельца на кириллице.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести текущий год.
5. В поле «Владелец» ввести фамилию и имя на кириллице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Владелец» появляется подсказка: «Неверный формат».

#### 21. Проверка поле "Владелец" на ввод одновременно букв, цифр и спецсимволов.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести текущий год.
5. В поле «Владелец» ввести буквы, цифры и спецсимволы.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Владелец» появляется подсказка: «Неверный формат».

#### 22. Пустое поле "Владелец".

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести текущий год.
5. Поле «Владелец» оставить пустым.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Владелец» появляется подсказка: «Поле обязательно для заполнения».

#### 23. Проверка поле "Владелец" на ввод одной буквы.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести текущий год.
5. В поле «Владелец» ввести одну букву.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Владелец» появляется подсказка: «Неверный формат».

#### 24. Проверка поле "Владелец" на ввод двойной фамилии на латинице.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести текущий год.
5. В поле «Владелец» ввести двойную фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

1. Осуществляется отправка данных в банк.
2. Появляется сообщение «Успешно. Операция одобрена банком».

#### 25. Проверка поле "Владелец" на ввод максимально допустимого количества символов.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести текущий год.
5. В поле «Владелец» ввести максимально-допустимое количество букв (более 21).
6. В поле «CVC/CVV» ввести три цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Владелец» появляется подсказка: «Неверный формат».

#### 26. Проверка поля «CVC/CVV» на ввод одной цифры.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести текущий год.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести одну цифру.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «Владелец» появляется подсказка: «Неверный формат».

#### 27. Проверка поля «CVC/CVV» на ввод 3 цифр.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести текущий год.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести 3 цифры.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

Форма не позволяет ввести более 3 цифр.

#### 28. Проверка поля «CVC/CVV» на ввод букв и знаков.

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести текущий год.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. В поле «CVC/CVV» ввести любые буквы и знаки.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

Форма не позволяет вводить буквы и знаки.

#### 29. Пустое поле «CVC/CVV».

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. В поле «Номер карты» ввести номер карты со статусом `APPROVED` (1111 2222 3333 4444)
3. В поле «Месяц» ввести номер текущего месяца.
4. В поле «Год» ввести текущий год.
5. В поле «Владелец» ввести фамилию и имя на латинице.
6. Поле «CVC/CVV» оствить пустым.
7. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У поля «CVC/CVV» появляется подсказка: «Неверный формат».

#### 30. Пустая форма "оплата по карте".

***Шаги выполнения***

1. Нажать кнопку «Купить»
2. Нажать кнопку «Продолжить».

***Ожидаемый результат:***

У полей появляется подсказка: «Неверный формат» и/или «Поле обязательно для заполнения».

### **API сценарии**

#### 1. Отправка POST запроса с валидным body и карты со статусом `APPROVED`

***Тело запроса***

{

"cardNumber": "1111 2222 3333 4444",

"month": "03",

"year": "25",

"holder": "Ivan Ivanov",

"cvc": "123"

}

***Ожидаемый результат:***

Cтатус 200, появление соответствующей записей в БД

#### 2. Отправка POST запроса с валидным body и карты со статусом `DECLINED`

***Тело запроса***

{

"cardNumber": "5555 6666 7777 8888",

"month": "03",

"year": "25",

"holder": "Ivan Ivanov",

"cvc": "123"

}

***Ожидаемый результат:***

Cтатус 200, появление соответствующей записей в БД

#### 3. Отправка POST запроса с пустым body

***Тело запроса***

Тело запроса оставляем пустым.

***Ожидаемый результат:***

Статус 400, в БД не появляются новые записи

#### 4. Отправка POST запроса платежа с пустым значением у атрибута `CardNumber` в body

***Тело запроса***

{

"cardNumber": "",

"month": "03",

"year": "25",

"holder": "Ivan Ivanov",

"cvc": "123"

}

***Ожидаемый результат:***

Статус 400, в БД не появляются новые записи

#### 5. Отправка POST запроса платежа с пустым значением у атрибута `mounth` в body

***Тело запроса***

{

"cardNumber": "1111 2222 3333 4444",

"month": "",

"year": "25",

"holder": "Ivan Ivanov",

"cvc": "123"

}

***Ожидаемый результат:***

Статус 400, в БД не появляются новые записи

#### 6. Отправка POST запроса платежа с пустым значением у атрибута `year` в body

***Тело запроса***

{

"cardNumber": "1111 2222 3333 4444",

"month": "03",

"year": "",

"holder": "Ivan Ivanov",

"cvc": "123"

}

***Ожидаемый результат:***

Статус 400, в БД не появляются новые записи

#### 7. Отправка POST запроса платежа с пустым значением у атрибута `holder` в body

***Тело запроса***

{

"cardNumber": "1111 2222 3333 4444",

"month": "03",

"year": "25",

"holder": "",

"cvc": "123"

}

***Ожидаемый результат:***

Статус 400, в БД не появляются новые записи

#### 8. Отправка POST запроса платежа с пустым значением у атрибута `cvc` в body

***Тело запроса***

{

"cardNumber": "1111 2222 3333 4444",

"month": "03",

"year": "25",

"holder": "Ivan Ivanov",

"cvc": ""

}

***Ожидаемый результат:***

Статус 400, в БД не появляются новые записи

## **Перечень используемых инструментов с обоснованием выбора**

1. Git и GitHub — хранение кода, в том числе авто-тестов;
2. JUnitJupiter— платформа для написания авто-тестов и их запуска;
3. Java 11 — язык написания авто-тестов;
4. Gradle — система управления зависимостями
5. Faker – для генерации тестовых данных
6. REST-assured – для тестирования API
7. Selenide – для тестирования GUI
8. Apache Commons – для запроса к БД
9. паттерн Page Object – для более гибкого взаимодействия с SUT и сокрытия внутреннего устройства определённой страницы
   или её виджетов за логическим интерфейсом взаимодействия
10. Allure – для формирования отчета о тестировании

## **Перечень и описание возможных рисков при автоматизации**

1. Отсутствие документации на приложение (какое поведение системы считать ошибочным)
2. Тесты могут не покрывать всех возможных негативных сценариев (пользователь может повести себя так, как мы не можем
   предвидеть)
3. Падение автотестов UI даже при незначительном изменении кода (изменения: структуры сайта, локаторов элементов)
4. Потеря актуальности тестов API при изменение структуры запросов со стороны банка
5. Некорректность тестовых данных при работе с Faker
6. Актуализация, обновление и поддрежание тестов может занять достаточно большое количество времени

## **Интервальная оценка с учётом рисков (в часах)**

1. Ознакомление с проектом + план автоматизации тестирования - 10 часов
2. Разработка UI тестов - 20 часов
3. Настройка окружения и проведение тестирования - 5 часов
4. Подготовка issue со скриншотами и описанием багов - 6 часов
5. Формирование отчета о проведённой автоматизации тестирования - 2 часа
6. Устранение замечаний - 5 часов
7. Итого - 48 часов

## **План сдачи работ**

1. План автоматизации тестирования - 09.03.2025
2. Готовность автотестов - 15.03.2025
3. Подготовка и оформление репортов - 17.03.2025
4. Отчеты по тестированию и автоматизации тестирования - 20.03.2025